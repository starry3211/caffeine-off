.bottom-nav {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 40px);
    max-width: 390px;
    height: 70px;

    /* Removed background/mask from here to avoid clipping children */
    background: none;
    border-radius: 35px;

    /* Layout */
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    align-items: center;
    justify-items: center;

    /* Shadow on container is fine, but if we want shadow to match mask, it needs to be on bg layer too? 
       Actually standard box-shadow ignores mask-image. 
       Let's put shadow on the background layer or keep it here if it looks okay. 
       If we put it here, the shadow will cross the "hole". 
       For now, let's put shadow on the background element.
    */
    padding-bottom: 0;
    z-index: 1000;
}

/* New Background Layer with Mask */
.nav-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 35px;

    /* Glass Effect */
    background: rgba(255, 255, 255, 0.7);
    /* Increased opacity for visibility */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);

    /* Shadow */
    box-shadow: 0 10px 40px rgba(16, 53, 58, 0.2);
    /* Slightly darker shadow */
    z-index: 0;
    /* Render first, but not behind the parent context */

    /* The Notch (Reduced depth to 15px) */
    --mask-pos-x: calc(10% + (var(--active-index, 0) * 20%));

    mask-image: radial-gradient(circle 16px at var(--mask-pos-x) 0px, transparent 96%, black 100%);
    -webkit-mask-image: radial-gradient(circle 16px at var(--mask-pos-x) 0px, transparent 96%, black 100%);

    transition: --mask-pos-x 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* The Floating Dot Indicator */
.nav-indicator-dot {
    position: absolute;
    /* Center in 16px deep notch: center is ~8px */
    top: 5px;
    left: calc(10% + (var(--active-index, 0) * 20%));
    transform: translateX(-50%);
    width: 6px;
    height: 6px;
    background-color: #10353A;
    border-radius: 50%;
    transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1002;
    pointer-events: none;
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    /* Re-center vertically */
    padding-top: 5px;
    /* Slight padding just to offset notch visual weight */
    color: #999;
    gap: 4px;
    width: 100%;
    height: 100%;
    border-radius: 0;
    background: none;
    cursor: pointer;
    transition: color 0.3s ease;
    position: relative;
}

/* Active State */
.nav-item.active {
    color: #10353A;
    background: none;
    box-shadow: none;
    transform: none;
}

.nav-item.active svg {
    color: #10353A;
}

.nav-label {
    font-size: 10px;
    font-weight: 500;
    transition: opacity 0.2s;
}

.nav-item.active .nav-label {
    font-weight: 700;
    color: #10353A;
}

.nav-item::before,
.nav-item::after {
    display: none;
}