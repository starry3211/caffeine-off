.shopping-home-screen {
    padding-bottom: 80px;
    /* Space for bottom nav */
    background: transparent;
    min-height: 100vh;
}

/* Header (Matched with Submain) */
.screen-header {
    padding: 16px var(--safe-area-padding);
    padding-top: 70px;
    position: relative;
    z-index: 10;
}

.screen-title {
    font-size: 24px;
    font-weight: 700;
    margin: 0 0 8px;
    color: var(--text-primary);
}

.screen-subtitle {
    font-size: 14px;
    color: var(--text-secondary);
    font-weight: 500;
    margin: 0;
}

/* Category Tabs */
.category-tabs {
    display: flex;
    gap: 20px;
    margin-top: 24px;
    border-bottom: 1px solid #eee;
}

.tab-item {
    background: none;
    border: none;
    padding: 8px 4px;
    font-size: 15px;
    color: #999;
    font-weight: 500;
    cursor: pointer;
    position: relative;
    transition: color 0.3s;
}

.tab-item.active {
    color: #333;
    font-weight: 700;
}

.tab-item.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #333;
}

/* Shop List Header (Sort & Count) */
.shop-list-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px 16px;
}

.product-count {
    font-size: 13px;
    color: #888;
    font-weight: 500;
}

.sort-select {
    border: none;
    background: transparent;
    font-size: 13px;
    color: #444;
    font-weight: 600;
    padding-right: 16px;
    cursor: pointer;
    /* Custom Arrow if needed, or default native */
    outline: none;
    text-align: right;
}

/* Optional: remove default arrow and add custom SVG via wrapper if needed. Keeping native for simplicity/robustness as requested "Select box". */

/* Tab Info Section */
.tab-info-section {
    margin-top: 24px;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.tab-slogan {
    font-size: 18px;
    font-weight: 700;
    color: var(--primary-midnight-teal);
    margin-bottom: 12px;
    line-height: 1.4;
    text-align: center;
}

.tab-keywords {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
    flex-wrap: wrap;
    justify-content: center;
}

.tab-keyword {
    font-size: 12px;
    color: var(--accent-vital-mint);
    font-weight: 600;
    background: rgba(0, 209, 178, 0.1);
    padding: 4px 8px;
    border-radius: 8px;
}

.tab-desc {
    font-size: 13px;
    color: #666;
    line-height: 1.6;
    word-break: keep-all;
}

/* Precision Filter Section (Replaces Banner & Old Filters) */
.precision-filter-section {
    padding: 0 0 24px;
    margin-bottom: 20px;
    position: relative;
    margin-top: 20px;
    /* Spacing from tabs */
}

/* Dimming Layer for Reset Button Area */
.filter-dimming-layer {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 60px;
    background: linear-gradient(to right, rgba(255, 255, 255, 0), #F8FAFB 60%);
    z-index: 5;
    pointer-events: auto;
    /* Blocks clicks on chips underneath */
}

.filter-reset-btn {
    position: absolute;
    right: 20px;
    top: 0;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: #fff;
    color: #666;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    /* slight shadow for visibility */
    border: 1px solid #eee;
    z-index: 10;
    transition: all 0.2s;
}

.filter-reset-btn:active {
    background: #f5f5f5;
    transform: scale(0.95);
}

.filter-category-row {
    display: flex;
    gap: 8px;
    padding: 0 20px;
    padding-right: 80px;
    /* Space for reset button */
    overflow-x: auto;
    scrollbar-width: none;
    align-items: center;
    scroll-snap-type: x proximity;
    cursor: grab;
    /* Enable drag cursor */
}

.filter-category-row:active {
    cursor: grabbing;
}

.filter-category-btn {
    white-space: nowrap;
    padding: 8px 12px;
    border-radius: 20px;
    border: 1px solid #E0E0E0;
    font-size: 13px;
    color: #555;
    background: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 4px;
    transition: all 0.2s;
    flex-shrink: 0;
}

.filter-category-btn.active {
    background: var(--primary-midnight-teal);
    color: #fff;
    border-color: var(--primary-midnight-teal);
    font-weight: 500;
}

.filter-category-btn.open {
    border-color: var(--primary-midnight-teal);
    color: var(--primary-midnight-teal);
    font-weight: 600;
}

/* Fix for when button is both Active and Open (Text was invisible) */
.filter-category-btn.active.open {
    color: #fff;
    background: var(--primary-midnight-teal);
}

.filter-remove {
    font-size: 10px;
    opacity: 0.8;
    background: rgba(255, 255, 255, 0.2);
    width: 16px;
    height: 16px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 2px;
}

.filter-arrow {
    font-size: 8px;
    opacity: 0.6;
}

/* Search Input */
.popup-search-box {
    width: 100%;
    padding: 12px 40px 12px 16px;
    /* Added right padding for icon */
    border: 1px solid #ddd;
    border-radius: 12px;
    background: #f9f9f9;
    font-size: 14px;
    color: #333;
    outline: none;
    transition: border-color 0.2s;
    box-sizing: border-box;
    /* Ensure padding doesn't widen the input out of container */
}

.popup-search-box:focus {
    border-color: #10353A;
}

/* Options Panel */
.filter-options-panel {
    margin-top: 16px;
    padding: 0 20px;
    background: transparent;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    animation: slideDown 0.2s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.filter-option-chip {
    padding: 8px 14px;
    border-radius: 16px;
    border: 1px solid #EAEAEA;
    background: #fff;
    color: #666;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
}

.filter-option-chip:hover {
    border-color: #ccc;
}

.filter-option-chip.selected {
    background: var(--accent-vital-mint);
    color: var(--primary-midnight-teal);
    border-color: var(--accent-vital-mint);
    font-weight: 600;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* Section 4: Product List */
.shop-product-list {
    padding-bottom: 20px;
}

/* Reusing grid styles from CommerceSection indirectly via generic classes or scoped if extracted.
   Since CommerceSection.css defines .product-grid mostly, we might need to import it or duplicate grid styles.
   Let's check CommerceSection.css content. It is imported in ProductCard?
   No, ProductCard is in CommerceSection.tsx which imports CommerceSection.css.
   But ShoppingHome imports CommerceSection.css via ProductCard? No, imports are per file.
   We need to ensure .product-grid is available or redefine it. 
   In React imports, CSS is global usually. So .product-grid from CommerceSection.css should apply if both are loaded. 
   But safe to redefine or import CommerceSection.css here too carefully. */

/* Redefine grid for safety in this scope */
.shop-product-list .product-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    padding: 0 20px;
}